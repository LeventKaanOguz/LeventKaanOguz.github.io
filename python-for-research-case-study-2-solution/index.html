<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Python for Research - HarvardX - Case Study 2 Solution - Levent Kaan Oğuz</title><meta name="Description" content="Solution to Case Study 2 of Python for Research by HarvardX."><meta property="og:title" content="Python for Research - HarvardX - Case Study 2 Solution" />
<meta property="og:description" content="Solution to Case Study 2 of Python for Research by HarvardX." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://leventkaanoguz.com/python-for-research-case-study-2-solution/" /><meta property="og:image" content="https://leventkaanoguz.com/logo.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-11T15:25:21+03:00" />
<meta property="article:modified_time" content="2020-03-04T15:58:26+08:00" /><meta property="og:site_name" content="Levent Kaan Oğuz" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://leventkaanoguz.com/logo.png" /><meta name="twitter:title" content="Python for Research - HarvardX - Case Study 2 Solution"/>
<meta name="twitter:description" content="Solution to Case Study 2 of Python for Research by HarvardX."/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://leventkaanoguz.com/python-for-research-case-study-2-solution/" /><link rel="prev" href="https://leventkaanoguz.com/python-for-research-case-study-1-solution/" /><link rel="next" href="https://leventkaanoguz.com/c-journey-part-1/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Python for Research - HarvardX - Case Study 2 Solution",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/leventkaanoguz.com\/python-for-research-case-study-2-solution\/"
        },"genre": "posts","keywords": "Python","wordcount":  1367 ,
        "url": "https:\/\/leventkaanoguz.com\/python-for-research-case-study-2-solution\/","datePublished": "2023-11-11T15:25:21+03:00","dateModified": "2020-03-04T15:58:26+08:00","license": "Levent Kaan Oğuz","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Levent Kaan Oğuz"
            },"description": "Solution to Case Study 2 of Python for Research by HarvardX."
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Levent Kaan Oğuz">Levent Kaan Oğuz</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Levent Kaan Oğuz">Levent Kaan Oğuz</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Python for Research - HarvardX - Case Study 2 Solution</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://leventkaanoguz.com" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Levent Kaan Oğuz</a></span>&nbsp;<span class="post-category">included in <a href="/categories/python-for-research/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Python for Research</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2023-11-11">2023-11-11</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;1367 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;7 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="true">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#introduction-to-problem-from-harvardx">Introduction to Problem from HarvardX</a></li>
    <li><a href="#exercises">Exercises</a>
      <ul>
        <li><a href="#exercise-1">Exercise 1</a></li>
        <li><a href="#exercise-2">Exercise 2</a></li>
        <li><a href="#exercise-3">Exercise 3</a>
          <ul>
            <li><a href="#what-does-apply-do">What does <code>apply</code> do?</a></li>
          </ul>
        </li>
        <li><a href="#exercise-4">Exercise 4</a></li>
        <li><a href="#exercise-5">Exercise 5</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="introduction-to-problem-from-harvardx">Introduction to Problem from HarvardX</h2>
<blockquote>
<p>In the six exercises of this case study, we will find and plot the distribution of word frequencies for different translations of Hamlet. Perhaps the distribution of word frequencies of Hamlet depends on the translation &ndash; let&rsquo;s find out!<br>
For this case study, the functions <code>count_words_fast</code> and <code>word_stats</code> are defined as in the Case 2 Videos (Videos 3.2.1 through 3.2.6). The code for these functions, which you will need for the following exercises, is given here:</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span> 
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> 
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">count_words_fast</span><span class="p">(</span><span class="n">text</span><span class="p">):</span> 
</span></span><span class="line"><span class="cl">    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">    <span class="n">skips</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;.&#34;</span><span class="p">,</span> <span class="s2">&#34;,&#34;</span><span class="p">,</span> <span class="s2">&#34;;&#34;</span><span class="p">,</span> <span class="s2">&#34;:&#34;</span><span class="p">,</span> <span class="s2">&#34;&#39;&#34;</span><span class="p">,</span> <span class="s1">&#39;&#34;&#39;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">,</span> <span class="s2">&#34;!&#34;</span><span class="p">,</span> <span class="s2">&#34;?&#34;</span><span class="p">,</span> <span class="s2">&#34;(&#34;</span><span class="p">,</span> <span class="s2">&#34;)&#34;</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">skips</span><span class="p">:</span> 
</span></span><span class="line"><span class="cl">        <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">ch</span><span class="p">,</span> <span class="s2">&#34;&#34;</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">    <span class="n">word_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&#34; &#34;</span><span class="p">))</span> 
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">word_counts</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">word_stats</span><span class="p">(</span><span class="n">word_counts</span><span class="p">):</span> 
</span></span><span class="line"><span class="cl">    <span class="n">num_unique</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word_counts</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">    <span class="n">counts</span> <span class="o">=</span> <span class="n">word_counts</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> 
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span><span class="n">num_unique</span><span class="p">,</span> <span class="n">counts</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Observe that we have used functions defined in the previous case study which has recorded videos, not the one we have the solutions and also called <code>Case Study 2: Language Processing</code>. I highly encourage watching the videos and answering the exercises.</p>
<h2 id="exercises">Exercises</h2>
<h3 id="exercise-1">Exercise 1</h3>
<blockquote>
<p>Note that <code>book_titles</code> is a nested dictionary, containing book titles within authors within languages, all of which are strings. These books are all stored online, and are accessed throughout this case study. In Exercise 1, we will first read in and store each translation of Hamlet.<br>
<strong>Instructions</strong><br>
Read in the data as a pandas dataframe using <code>pd.read_csv</code>. Use the <code>index_col</code> argument to set the first column in the csv file as the index for the dataframe. The data can be found at this link within the courseware, and at this link when coming from outside the courseware.<br>
Complete the following line of code to read in the data:</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="n">hamlets</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&#34;./hamlets.csv&#34;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s2">&#34;Unnamed: 0&#34;</span><span class="p">)</span> <span class="c1">## Complete this line of code! ##</span>
</span></span><span class="line"><span class="cl"><span class="n">hamlets</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>It&rsquo;s good practice to check whether or not our dataframe is correctly initialized. In this code block, we have used <code>read_csv</code> to read our .csv file and used <code>index_col</code> to select our index column as languages. Our expected output is shown below. Since this case study is much harder than the previous one, I will try to share my results as well as the code.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/Python-for-Research-Case-Study-2-Solution/first_output.png"
        data-srcset="/images/Python-for-Research-Case-Study-2-Solution/first_output.png, /images/Python-for-Research-Case-Study-2-Solution/first_output.png 1.5x, /images/Python-for-Research-Case-Study-2-Solution/first_output.png 2x"
        data-sizes="auto"
        alt="/images/Python-for-Research-Case-Study-2-Solution/first_output.png"
        title="First expected output" /></p>
<h3 id="exercise-2">Exercise 2</h3>
<blockquote>
<p>In Exercise 2, we will summarize the text for a single translation of Hamlet in a pandas dataframe.<br>
<strong>Instructions</strong><br>
Find the dictionary of word frequency in text by calling <code>count_words_fast()</code>. Store this as <code>counted_text</code>.<br>
Create a pandas dataframe named data.<br>
Using <code>counted_text</code>, define two columns in data:<br>
<code>word</code>, consisting of each unique word in text.<br>
<code>count</code>, consisting of the number of times each word in word is included in the text.<br>
Here&rsquo;s the code to get you started:<br>
How many times does the word Hamlet appear in the text?</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="n">language</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="n">hamlets</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Enter your code here.</span>
</span></span><span class="line"><span class="cl"><span class="n">counted_text</span> <span class="o">=</span> <span class="n">count_words_fast</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">counted_text</span><span class="o">.</span><span class="n">items</span><span class="p">()),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;word&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="n">counted_text</span><span class="p">[</span><span class="s2">&#34;hamlet&#34;</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>And the expected output is <code>97</code>. Here <code>list(counted_text.items())</code> gives us a list of tuples of key and value pairs, which we can use to have the rows of our dataframe.</p>
<h3 id="exercise-3">Exercise 3</h3>
<blockquote>
<p>In Exercise 3, we will continue to define summary statistics for a single translation of Hamlet.<br>
<strong>Instructions</strong>
Add a column to data named length, defined as the length of each word.<br>
Add another column named <code>frequency</code>, which is defined as follows for each word in data:<br>
-If count &gt; 10, frequency is &ldquo;frequent&rdquo;.<br>
-If 1 &lt; count &lt;= 10, frequency is &ldquo;infrequent&rdquo;.<br>
-If count == 1, frequency is &ldquo;unique&rdquo;.<br>
How many unique words appear in the text?</p>
</blockquote>
<p>Now we are coming to harder parts. From now on,I will try to elaborate more with the methods and variables I have used.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="c1"># write your code here!</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">freq</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s2">&#34;count&#34;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;frequent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="mi">1</span><span class="o">&lt;</span> <span class="n">row</span><span class="p">[</span><span class="s2">&#34;count&#34;</span><span class="p">]</span> <span class="o">&lt;=</span><span class="mi">10</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;infrequent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s2">&#34;unique&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data</span><span class="p">[</span><span class="s2">&#34;length&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&#34;word&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">len</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span><span class="p">[</span><span class="s2">&#34;frequency&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&#34;frequency&#34;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&#34;unique&#34;</span><span class="p">])</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Expected output is <code>3348</code>.</p>
<h4 id="what-does-apply-do">What does <code>apply</code> do?</h4>
<p>Now we need to understand what <code>apply()</code> method does. In the official documentation, it says &ldquo;Apply a function along an axis of the DataFrame.&rdquo;. However, there is one more point waiting to be explained. What is an &ldquo;axis&rdquo;? By default, the axis value is equal to 0. This means Pandas will apply the corresponding function (our first input) to each column. If it was equal to 1, it would apply to each row.</p>
<h3 id="exercise-4">Exercise 4</h3>
<blockquote>
<p>In Exercise 4, we will summarize the statistics in data into a smaller pandas dataframe.<br>
<strong>Instructions</strong><br>
Create a pandas dataframe named <code>sub_data</code> including the following columns:<br>
<code>language</code>, which is the language of the text (defined in Exercise 2).<br>
<code>frequency</code>, which is a list containing the strings &ldquo;frequent&rdquo;, &ldquo;infrequent&rdquo;, and &ldquo;unique&rdquo;.<br>
<code>mean_word_length</code>, which is the mean word length of each value in frequency.<br>
<code>num_words</code>, which is the total number of words in each frequency category.<br>
What is the average word length of the infrequent words?</p>
</blockquote>
<p>Here comes the hardest part of this case study for me.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="c1"># write your code here!</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">languages</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;English&#34;</span><span class="p">,</span> <span class="s2">&#34;German&#34;</span><span class="p">,</span> <span class="s2">&#34;Portuguese&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">frequencies</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;frequent&#34;</span><span class="p">,</span> <span class="s2">&#34;infrequent&#34;</span><span class="p">,</span> <span class="s2">&#34;unique&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data_list</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">lang</span> <span class="ow">in</span> <span class="n">languages</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">freq</span> <span class="ow">in</span> <span class="n">frequencies</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">data_prime</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&#34;frequency&#34;</span><span class="p">]</span> <span class="o">==</span> <span class="n">freq</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">mean_word_length</span> <span class="o">=</span> <span class="n">data_prime</span><span class="p">[</span><span class="s2">&#34;length&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">num_words</span> <span class="o">=</span> <span class="n">data_prime</span><span class="p">[</span><span class="s2">&#34;count&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">data_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">lang</span><span class="p">,</span> <span class="n">freq</span><span class="p">,</span> <span class="n">mean_word_length</span><span class="p">,</span> <span class="n">num_words</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sub_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_list</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;language&#39;</span><span class="p">,</span> <span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;mean_word_length&#39;</span><span class="p">,</span> <span class="s1">&#39;num_words&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sub_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sub_data</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;infrequent&#39;</span><span class="p">,</span> <span class="s1">&#39;mean_word_length&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Expected result is <code>5.825242718446602</code>.</p>
<p>Alright, I mostly do not remember how I wrote this part of the code but I will try to elaborate with it. Moreover, in later exercises, HarvardX recommends another approach. I will stick with mine for now.</p>
<p>Since we need to group by <code>frequency</code> &ndash; if you check what we need you can easily see that &ndash; first we create a new dataframe called <code>data_prime</code> to store our new dataframe with selected frequency. After that, rest is history. In the last line, we needed to find average word length of the infrequent words and we have found that with using <code>loc[]</code> attribute.</p>
<h3 id="exercise-5">Exercise 5</h3>
<p>In the last two exercises, we wrap up what we have covered until now.</p>
<blockquote>
<p>In Exercise 5, we will join all the data summaries for text Hamlet translation.<br>
<strong>Instructions</strong><br>
The previous code for summarizing a particular translation of Hamlet is consolidated into a single function called <code>summarize_text</code>. Create a pandas dataframe grouped_data consisting of the results of <code>summarize_text</code> for each translation of Hamlet in hamlets.<br>
Use a for loop across the row indices of <code>hamlets</code> to assign each translation to a new row.<br>
Obtain the <code>ith</code> row of <code>hamlets</code> to variables using the <code>.iloc</code> method, and assign the output to variables <code>language</code> and <code>text</code>.<br>
Call <code>summarize_text</code> using language and text, and assign the output to <code>sub_data</code>.<br>
Use the pandas <code>.append()</code> function to append pandas dataframes row-wise to <code>grouped_data</code>.<br>
The code below defines <code>summarize_text</code>:<br>
What is the average word length of the frequent words in the German translation?<br>
How many frequent words are there in the Portugese translation?</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-Python" data-lang="Python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">summarize_text</span><span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">counted_text</span> <span class="o">=</span> <span class="n">count_words_fast</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;word&#34;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">counted_text</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;count&#34;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">counted_text</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&#34;count&#34;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">,</span>  <span class="s2">&#34;frequency&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;frequent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&#34;count&#34;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&#34;frequency&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;infrequent&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&#34;count&#34;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span>  <span class="s2">&#34;frequency&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&#34;unique&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="p">[</span><span class="s2">&#34;length&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&#34;word&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">len</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">sub_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;language&#34;</span><span class="p">:</span> <span class="n">language</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;frequency&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;frequent&#34;</span><span class="p">,</span><span class="s2">&#34;infrequent&#34;</span><span class="p">,</span><span class="s2">&#34;unique&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;mean_word_length&#34;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="s2">&#34;frequency&#34;</span><span class="p">)[</span><span class="s2">&#34;length&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;num_words&#34;</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="s2">&#34;frequency&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span><span class="p">(</span><span class="n">sub_data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="c1"># write your code here!</span>
</span></span><span class="line"><span class="cl"><span class="n">grouped_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">language</span><span class="p">,</span> <span class="n">text</span> <span class="o">=</span> <span class="n">hamlets</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&#34;language&#34;</span><span class="p">],</span> <span class="n">hamlets</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&#34;text&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">sub_data</span> <span class="o">=</span> <span class="n">summarize_text</span><span class="p">(</span><span class="n">language</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">grouped_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">grouped_data</span><span class="p">,</span> <span class="n">sub_data</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">grouped_data</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Expected output is a dataframe:<br>
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/images/Python-for-Research-Case-Study-2-Solution/second_output_img.png"
        data-srcset="/images/Python-for-Research-Case-Study-2-Solution/second_output_img.png, /images/Python-for-Research-Case-Study-2-Solution/second_output_img.png 1.5x, /images/Python-for-Research-Case-Study-2-Solution/second_output_img.png 2x"
        data-sizes="auto"
        alt="/images/Python-for-Research-Case-Study-2-Solution/second_output_img.png"
        title="5th exercise" /></p>
<p>Here you can easily find expected results. Now, let&rsquo;s check how our solution works. First, we have created a dataframe called <code>grouped_data</code>. Then, from 0 to 2, we have a loop and we have one-by-one assign <code>language</code> and <code>text</code> and use these as input while using <code>summarize_text()</code>.</p>
<p>Since the last exercise is abnormally easy, I won&rsquo;t be talking about it.</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2020-03-04</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/python-for-research-case-study-2-solution/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://leventkaanoguz.com/python-for-research-case-study-2-solution/" data-title="Python for Research - HarvardX - Case Study 2 Solution" data-hashtags="Python"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://leventkaanoguz.com/python-for-research-case-study-2-solution/" data-hashtag="Python"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://leventkaanoguz.com/python-for-research-case-study-2-solution/" data-title="Python for Research - HarvardX - Case Study 2 Solution"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://leventkaanoguz.com/python-for-research-case-study-2-solution/" data-title="Python for Research - HarvardX - Case Study 2 Solution"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://leventkaanoguz.com/python-for-research-case-study-2-solution/" data-title="Python for Research - HarvardX - Case Study 2 Solution"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/python/">Python</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/python-for-research-case-study-1-solution/" class="prev" rel="prev" title="Python for Research - HarvardX - Case Study 1 Solution"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Python for Research - HarvardX - Case Study 1 Solution</a>
            <a href="/c-journey-part-1/" class="next" rel="next" title="C&#43;&#43; Journey: Part 1 - Introduction to Series">C++ Journey: Part 1 - Introduction to Series<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.121.1">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://leventkaanoguz.com" target="_blank">Levent Kaan Oğuz</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"lightgallery":true,"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
